//kage:unit pixels

package main

var (
	ScanlineWeight float // 0.0-1.0, how dark the scanlines are
)

func Fragment(dst vec4, src vec2, color vec4) vec4 {
	clr := imageSrc0At(src)

	// Simple every-other-row scanlines
	// Use modulo to alternate: even rows are normal, odd rows are darkened
	row := int(src.y)
	if row%2 == 1 {
		clr.rgb *= (1.0 - ScanlineWeight)
	}

	return clr
}
